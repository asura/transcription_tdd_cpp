<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="629px" preserveAspectRatio="none" style="width:1024px;height:629px;" version="1.1" viewBox="0 0 1024 629" width="1024px" zoomAndPan="magnify"><defs/><g><!--class Bank--><rect fill="#F8F8F8" height="59.2207" id="Bank" style="stroke: #383838; stroke-width: 1.5;" width="424" x="296.5" y="8"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="28" x="494.5" y="24.6016">Bank</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="460.5" y="38.7344">銀行 (為替変換器)</text><line style="stroke: #383838; stroke-width: 1.5;" x1="297.5" x2="719.5" y1="46.2656" y2="46.2656"/><ellipse cx="307.5" cy="58.2432" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="398" x="316.5" y="60.9004">reduce(const Money&amp;, const Currency&amp;, const Rate&amp;) const : const Money</text><!--class Currency--><rect fill="#F8F8F8" height="93.1309" id="Currency" style="stroke: #383838; stroke-width: 1.5;" width="256" x="380.5" y="360"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="483" y="376.6016">Currency</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="478.5" y="390.7344">通貨の種類</text><line style="stroke: #383838; stroke-width: 1.5;" x1="381.5" x2="635.5" y1="398.2656" y2="398.2656"/><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="388.5" y="407.2432"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="400.5" y="412.9004">m_name : const std::string</text><line style="stroke: #383838; stroke-width: 1.5;" x1="381.5" x2="635.5" y1="419.2207" y2="419.2207"/><ellipse cx="391.5" cy="431.1982" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="400.5" y="433.8555">Currency(const std::string&amp;)</text><ellipse cx="391.5" cy="444.1533" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="400.5" y="446.8105">operator==(const Currency&amp;) const : bool</text><!--class Money--><rect fill="#F8F8F8" height="248.5918" id="Money" style="stroke: #383838; stroke-width: 1.5;" width="339" x="6" y="282"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="37" x="157" y="298.6016">Money</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="139.5" y="312.7344">手持ちの貨幣</text><line style="stroke: #383838; stroke-width: 1.5;" x1="7" x2="344" y1="320.2656" y2="320.2656"/><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="329.2432"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="263" x="26" y="334.9004">m_amount : std::unordered_map&lt;Currency, int&gt;</text><line style="stroke: #383838; stroke-width: 1.5;" x1="7" x2="344" y1="341.2207" y2="341.2207"/><ellipse cx="17" cy="353.1982" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="26" y="355.8555">Money()</text><ellipse cx="17" cy="366.1533" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="26" y="368.8105">Money(int, const Currency&amp;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="29" y="381.7656"/><ellipse cx="17" cy="392.0635" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="26" y="394.7207">operator==(const Money&amp;) const : bool</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="29" y="407.6758"/><ellipse cx="17" cy="417.9736" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="250" x="26" y="420.6309">operator+(const Money&amp;) const : const Money</text><ellipse cx="17" cy="430.9287" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="26" y="433.5859">operator*(int) const : const Money</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="29" y="446.541"/><ellipse cx="17" cy="456.8389" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="313" x="26" y="459.4961">reduce(const Currency&amp;, const Rate&amp;) const: const Money</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="29" y="472.4512"/><ellipse cx="17" cy="482.749" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="97" x="26" y="485.4063">dollar(int) : Money</text><line style="stroke: #000000; stroke-width: 1.0;" x1="26" x2="123" y1="487.4063" y2="487.4063"/><ellipse cx="17" cy="495.7041" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="94" x="26" y="498.3613">franc(int) : Money</text><line style="stroke: #000000; stroke-width: 1.0;" x1="26" x2="120" y1="500.3613" y2="500.3613"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="29" y="511.3164"/><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="518.6143"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="165" x="26" y="524.2715">void add(int, const Currency&amp;)</text><!--class Rate--><rect fill="#F8F8F8" height="93.1309" id="Rate" style="stroke: #383838; stroke-width: 1.5;" width="407" x="606" y="128"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="26" x="796.5" y="144.6016">Rate</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="779.5" y="158.7344">為替レート</text><line style="stroke: #383838; stroke-width: 1.5;" x1="607" x2="1012" y1="166.2656" y2="166.2656"/><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="614" y="175.2432"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="264" x="626" y="180.9004">m_rates : std::unordered_map&lt;FromTo, double&gt;</text><line style="stroke: #383838; stroke-width: 1.5;" x1="607" x2="1012" y1="187.2207" y2="187.2207"/><ellipse cx="617" cy="199.1982" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="287" x="626" y="201.8555">set(const Currency&amp;, const Currency&amp;, double) : void</text><ellipse cx="617" cy="212.1533" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="381" x="626" y="214.8105">find(const Currency&amp;, const Currency&amp;) const : std::optional&lt;double&gt;</text><!--class FromTo--><rect fill="#F8F8F8" height="96.9082" id="FromTo" style="stroke: #383838; stroke-width: 1.5;" width="264" x="722.5" y="358"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="815.5" y="374.6016">Rate::FromTo</text><line style="stroke: #383838; stroke-width: 1.5;" x1="723.5" x2="985.5" y1="382.1328" y2="382.1328"/><ellipse cx="733.5" cy="394.1104" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="742.5" y="396.7676">FromTo(const Currency&amp;, const Currency&amp;)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="745.5" y="409.7227"/><ellipse cx="733.5" cy="420.0205" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="222" x="742.5" y="422.6777">operator==(const FromTo&amp;) const : bool</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="745.5" y="435.6328"/><ellipse cx="733.5" cy="445.9307" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="742.5" y="448.5879">hash() const : std::size_t</text><path d="M106.5,592 L106.5,617.3105 A0,0 0 0 0 106.5,617.3105 L244.5,617.3105 A0,0 0 0 0 244.5,617.3105 L244.5,602 L234.5,592 L179.5,592 L175.5,531.0535 L171.5,592 L106.5,592 A0,0 0 0 0 106.5,592 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><path d="M234.5,592 L234.5,602 L244.5,602 L234.5,592 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="112.5" y="609.5684">複数の通貨を保持可</text><!--link Bank to Money--><path d="M481.8121,67.0731 C440.8741,112.4368 360.1395,201.8994 291.8313,277.5923 " fill="none" id="Bank-Money" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#383838" points="288.1769,281.6418,297.1762,277.6401,291.5267,277.9298,291.237,272.2804,288.1769,281.6418" style="stroke: #383838; stroke-width: 1.0;"/><!--link Bank to Currency--><path d="M508.5,67.0731 C508.5,129.6604 508.5,276.1904 508.5,354.6867 " fill="none" id="Bank-Currency" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#383838" points="508.5,359.7571,512.5,350.7571,508.5,354.7571,504.5,350.7571,508.5,359.7571" style="stroke: #383838; stroke-width: 1.0;"/><!--link Bank to Rate--><path d="M573.4419,67.0583 C611.0436,84.1727 659.315,106.1434 702.398,125.7526 " fill="none" id="Bank-Rate" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#383838" points="707.0861,127.8864,700.5517,120.5175,702.5353,125.8151,697.2376,127.7988,707.0861,127.8864" style="stroke: #383838; stroke-width: 1.0;"/><!--link Rate to FromTo--><path d="M821.0428,234.0097 C827.6249,267.944 835.8621,310.4112 842.5161,344.7163 " fill="none" id="Rate-FromTo" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="845.0747,357.9072,847.2878,348.3102,844.1226,352.9987,839.4341,349.8335,845.0747,357.9072" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="844.1226" x2="842.5992" y1="352.9987" y2="345.145"/><polygon fill="#383838" points="818.5523,221.1696,815.7681,227.8215,820.8374,232.95,823.6217,226.2981,818.5523,221.1696" style="stroke: #383838; stroke-width: 1.0;"/><!--link Currency to FromTo--><path d="M650.0273,406.5 C669.5409,406.5 689.6075,406.5 709.1881,406.5 " fill="none" id="Currency-FromTo" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="722.3125,406.5,716.3125,402.5,710.3125,406.5,716.3125,410.5,722.3125,406.5" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="636.8459,406.5,645.8459,410.5,641.8459,406.5,645.8459,402.5,636.8459,406.5" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="641.8459" x2="649.846" y1="406.5" y2="406.4999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="655" y="400.0684">m_from</text><!--link Currency to FromTo--><path d="M649.6267,425.5582 C653.9636,425.91 658.2625,426.226 662.5,426.5 C677.6542,427.4799 693.4591,427.4864 709.2095,426.8332 " fill="none" id="Currency-FromTo" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="722.4116,426.1363,716.2091,422.4581,710.4283,426.7689,716.6308,430.447,722.4116,426.1363" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="636.5261,424.4017,645.1395,429.1777,641.5067,424.8414,645.843,421.2087,636.5261,424.4017" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="641.5067" x2="649.4758" y1="424.8414" y2="425.545"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="663.5" y="423.0684">m_to</text><!--link Money to Currency--><path d="M358.4043,406.5 C361.3727,406.5 364.3411,406.5 367.3095,406.5 " fill="none" id="Money-Currency" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="380.3248,406.5,371.3248,402.5,375.3248,406.5,371.3248,410.5,380.3248,406.5" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="375.3248" x2="367.3248" y1="406.5" y2="406.4999"/><polygon fill="#383838" points="345.252,406.5,351.252,410.5,357.252,406.5,351.252,402.5,345.252,406.5" style="stroke: #383838; stroke-width: 1.0;"/><!--
@startuml class
skinparam {
  monochrome true
  shadowing false
}
hide circle
hide empty members

class "Bank\n銀行 (為替変換器)" as Bank {
  + reduce(const Money&, const Currency&, const Rate&) const : const Money
}

class "Currency\n通貨の種類" as Currency {
  - m_name : const std::string
  + Currency(const std::string&)
  + operator==(const Currency&) const : bool
}

class "Money\n手持ちの貨幣" as Money {
  - m_amount : std::unordered_map<Currency, int>
  + Money()
  + Money(int, const Currency&

  + operator==(const Money&) const : bool

  + operator+(const Money&) const : const Money
  + operator*(int) const : const Money

  + reduce(const Currency&, const Rate&) const: const Money

  + {static} dollar(int) : Money
  + {static} franc(int) : Money

  - void add(int, const Currency&)
}

class "Rate\n為替レート" as Rate {
  - m_rates : std::unordered_map<FromTo, double>
  + set(const Currency&, const Currency&, double) : void
  + find(const Currency&, const Currency&) const : std::optional<double>
}

class "Rate::FromTo" as FromTo {
  + FromTo(const Currency&, const Currency&)

  + operator==(const FromTo&) const : bool

  + hash() const : std::size_t
}

Bank ...> Money
Bank ...> Currency
Bank ..> Rate
Rate *- -> FromTo
FromTo o-l-> Currency : m_from
FromTo o-l-> Currency : m_to
Money *-r-> Currency

note bottom of Money: 複数の通貨を保持可

@enduml

PlantUML version 1.2019.03(Sun Mar 10 20:04:44 JST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_121-b13
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>